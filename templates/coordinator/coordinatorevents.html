{% extends 'base.html' %}
{% block content %}
<div class="card"><div class="card-header"><h2 class="card-title">My Events</h2></div>
{% if course_details %}
{% for item in course_details %}
<div class="card" style="margin-bottom: 20px;">
<div style="padding: 20px;">
<h3>{{ item.course.coursecode }} - {{ item.course.coursetitle }}</h3>
<p><strong>Department:</strong> {{ item.course.department }} | <strong>Semester:</strong> {{ item.course.semester }}</p>
<p><strong>Enrolled Staff Members:</strong> {{ item.enrollment_count }}</p>
{% if item.enrollments %}
<h4>Enrolled Staff Members:</h4>
<div class="table-container"><table>
<thead><tr><th>Staff Name</th><th>Staff ID</th><th>Assignment Date</th><th>Grade</th></tr></thead>
<tbody>{% for enrollment in item.enrollments %}
<tr><td>{{ enrollment.student.fullname }}</td><td>{{ enrollment.student.studentid }}</td>
<td>{{ enrollment.enrollment_date|date:"Y-m-d" }}</td><td>{{ enrollment.grade|default:"Not Graded" }}</td></tr>
{% endfor %}</tbody></table></div>
{% endif %}
</div></div>
{% endfor %}
{% else %}
<div class="empty-state"><div class="empty-state-text">No events assigned</div></div>
{% endif %}
</div>{% endblock %}

